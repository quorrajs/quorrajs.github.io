<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>QuorraJS</title>
    <link rel="icon" type="image/x-icon" href="/assets/icons/favicon.ico"/>
    <link href='https://fonts.googleapis.com/css?family=Lato:100,300,400,700,900,400italic' rel='stylesheet'
          type='text/css'>
    <link rel="stylesheet" href="/assets/css/bootstrap.min.css">
    <link rel="stylesheet" href="/assets/css/theme.css">
    <link rel="stylesheet" href="/assets/css/color-defaults.min.css">
    <link rel="stylesheet" href="/assets/css/swatch-blue-white.css">
    <link rel="stylesheet" href="/assets/css/swatch-white-blue.css">
    <link rel="stylesheet" href="/assets/css/prism.css">
    <link rel="stylesheet" href="/assets/css/fonts.min.css" media="screen">
    <script>
        (function (i, s, o, g, r, a, m) {
            i['GoogleAnalyticsObject'] = r;
            i[r] = i[r] || function () {
                (i[r].q = i[r].q || []).push(arguments)
            }, i[r].l = 1 * new Date();
            a = s.createElement(o),
                    m = s.getElementsByTagName(o)[0];
            a.async = 1;
            a.src = g;
            m.parentNode.insertBefore(a, m)
        })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');

        ga('create', 'UA-42913540-2', 'auto');
        ga('send', 'pageview');
    </script>
    
    <script id="search_suggestion_template" type="text/template">
        <div class="autocomplete-wrapper">
            {{#_highlightResult.h1}}
            <div class="h1">
                {{{ _highlightResult.h1.value }}}
            </div>
            {{/_highlightResult.h1}}

            <div class="sub-section">
                {{#_highlightResult.h2}}
                <div class="h2">
                    <span class="hash">#</span> {{{ _highlightResult.h2.value }}}
                </div>
                {{/_highlightResult.h2}}

                {{#_highlightResult.h3}}
                <div class="h3">
                    > {{{ _highlightResult.h3.value }}}
                </div>
                {{/_highlightResult.h3}}

                {{#_highlightResult.h4}}
                <div class="h4">
                    > {{{ _highlightResult.h4.value }}}
                </div>
                {{/_highlightResult.h4}}
            </div>

            {{#_highlightResult.content}}
            <div class="content">
                {{{ _highlightResult.content.value }}}
            </div>
            {{/_highlightResult.content}}
        </div>
    </script>
    <script id="search_empty_template" type="text/template">
        <div class="autocomplete-wrapper empty">
            <div class="h2">We didn't find any result for "{{query}}". Sorry!</div>
        </div>
    </script>
    <script id="search_footer_template" type="text/template">
        <div class="footer">
            <a target="_blank" href="https://www.algolia.com/">
                
                <img width="50" src="/assets/images/algolia.png">
                
                <div class="powered">powered by</div>
                <div style="clear: both"></div>
            </a>
        </div>
    </script>
    
</head>
<body>
    <div id="sidenav" class="sidenav">
        <div class="brand">
            <a href="/">QuorraJS</a>
        </div>
        <ul class="side-main-nav">
            <li><a data-scroll data-options="easing: easeOutQuart"
                   href="https://medium.com/@quorrajs" target="_blank">Blog</a></li>
            <li class="dropdown">
                <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                    Community
                    <span class="caret"></span>
                </a>
                <ul class="dropdown-menu">
                    <li><a href="https://github.com/quorrajs" target="_blank">Github</a></li>
                    <li role="separator" class="divider"></li>
                    <li><a href="https://quorrajs.slack.com" target="_blank">Slack</a></li>
                    <li><a href="https://gitter.im/quorrajs/quorrajs" target="_blank">Gitter</a></li>
                    <li><a href="https://twitter.com/quorrajs" target="_blank">Twitter</a></li>
                </ul>
            </li>
        </ul>
                    <div class="side-doc-nav">
                <h3>Documentation</h3>
                                    <div class="category">
                        <h3>Preface</h3>
                        <ul>
                                                            <li class="">
                                    <a href="/docs/1.0.0/preface/quickstart.html">
                                        Quickstart
                                    </a>
                                </li>
                                                            <li class="">
                                    <a href="/docs/1.0.0/preface/contribution-guide.html">
                                        Contribution Guide
                                    </a>
                                </li>
                                                    </ul>
                    </div>
                                    <div class="category">
                        <h3>Getting started</h3>
                        <ul>
                                                            <li class="">
                                    <a href="/docs/1.0.0/getting-started/installation.html">
                                        Installation
                                    </a>
                                </li>
                                                            <li class="">
                                    <a href="/docs/1.0.0/getting-started/configuration.html">
                                        Configuration
                                    </a>
                                </li>
                                                            <li class="">
                                    <a href="/docs/1.0.0/getting-started/request-lifecycle.html">
                                        Request Lifecycle
                                    </a>
                                </li>
                                                            <li class="">
                                    <a href="/docs/1.0.0/getting-started/routing.html">
                                        Routing
                                    </a>
                                </li>
                                                            <li class="">
                                    <a href="/docs/1.0.0/getting-started/requests-&amp;-input.html">
                                        Requests & Input
                                    </a>
                                </li>
                                                            <li class="">
                                    <a href="/docs/1.0.0/getting-started/views-&amp;-responses.html">
                                        Views & Responses
                                    </a>
                                </li>
                                                            <li class="">
                                    <a href="/docs/1.0.0/getting-started/controllers.html">
                                        Controllers
                                    </a>
                                </li>
                                                            <li class="">
                                    <a href="/docs/1.0.0/getting-started/errors-&amp;-logging.html">
                                        Errors & Logging
                                    </a>
                                </li>
                                                            <li class="">
                                    <a href="/docs/1.0.0/getting-started/models-&amp;-orm.html">
                                        Models & ORM
                                    </a>
                                </li>
                                                            <li class="">
                                    <a href="/docs/1.0.0/getting-started/globals.html">
                                        Globals
                                    </a>
                                </li>
                                                            <li class="">
                                    <a href="/docs/1.0.0/getting-started/middleware.html">
                                        Middleware
                                    </a>
                                </li>
                                                    </ul>
                    </div>
                                    <div class="category">
                        <h3>Learning more</h3>
                        <ul>
                                                            <li class="">
                                    <a href="/docs/1.0.0/more/security.html">
                                        Security
                                    </a>
                                </li>
                                                            <li class="">
                                    <a href="/docs/1.0.0/middlewares/session.html">
                                        Session
                                    </a>
                                </li>
                                                            <li class="">
                                    <a href="/docs/1.0.0/more/mail.html">
                                        Mail
                                    </a>
                                </li>
                                                            <li class="">
                                    <a href="/docs/1.0.0/more/request.html">
                                        Request Object
                                    </a>
                                </li>
                                                            <li class="">
                                    <a href="/docs/1.0.0/more/response.html">
                                        Response Object
                                    </a>
                                </li>
                                                            <li class="">
                                    <a href="/docs/1.0.0/more/service-providers.html">
                                        Service Providers
                                    </a>
                                </li>
                                                            <li class="">
                                    <a href="/docs/1.0.0/middlewares/body-parser.html">
                                        Body Parser
                                    </a>
                                </li>
                                                            <li class="">
                                    <a href="/docs/1.0.0/middlewares/query-parser.html">
                                        Query Parser
                                    </a>
                                </li>
                                                            <li class="">
                                    <a href="/docs/1.0.0/middlewares/cookie-parser.html">
                                        Cookie Parser
                                    </a>
                                </li>
                                                            <li class="">
                                    <a href="/docs/1.0.0/middlewares/authentication.html">
                                        Authentication
                                    </a>
                                </li>
                                                            <li class="">
                                    <a href="/docs/1.0.0/middlewares/localization.html">
                                        Localization
                                    </a>
                                </li>
                                                            <li class="">
                                    <a href="/docs/1.0.0/middlewares/http-method-override.html">
                                        HTTP Method Override
                                    </a>
                                </li>
                                                            <li class="">
                                    <a href="/docs/1.0.0/middlewares/serve-static.html">
                                        Server Static
                                    </a>
                                </li>
                                                            <li class="">
                                    <a href="/docs/1.0.0/more/elixir.html">
                                        Elixir
                                    </a>
                                </li>
                                                            <li class="">
                                    <a href="/docs/1.0.0/more/miscellaneous.html">
                                        Miscellaneous
                                    </a>
                                </li>
                                                            <li class="">
                                    <a href="/docs/1.0.0/more/testing.html">
                                        Testing
                                    </a>
                                </li>
                                                    </ul>
                    </div>
                                    <div class="category">
                        <h3>Quorra CLI</h3>
                        <ul>
                                                            <li class="">
                                    <a href="/docs/1.0.0/quorra-cli/overview.html">
                                        Overview
                                    </a>
                                </li>
                                                    </ul>
                    </div>
                            </div>
            </div>
    <div id="main-content">
        <span id="overlay"></span>
        <header id="masthead" class="navbar-small navbar swatch-blue-white" role="banner">
            <div class="container">
                <nav class="main">
                    <a href="/index.html" class="navbar-brand nav-block">
                        <img src="/assets/icons/logo-icon.png" alt="QuorraJS">
                        <span>QuorraJS</span>
                    </a>

                    <div id="search" class="nav-block">
                        <div class="search">
                            <input type="text" name="search" class="form-control">
                            <button type="submit"><i class="fa fa-search"></i></button>
                        </div>
                    </div>
                    <ul class="main-nav nav">
                        <li><a data-scroll data-options="easing: easeOutQuart"
                               href="/docs/1.0.0/getting-started/installation.html">Documentation</a></li>
                        <li><a data-scroll data-options="easing: easeOutQuart"
                               href="https://medium.com/@quorrajs" target="_blank">Blog</a></li>
                        <li class="dropdown">
                            <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                                Community
                                <span class="caret"></span>
                            </a>
                            <ul class="dropdown-menu">
                                <li><a href="https://github.com/quorrajs" target="_blank">Github</a></li>
                                <li role="separator" class="divider"></li>
                                <li><a href="https://quorrajs.slack.com" target="_blank">Slack</a></li>
                                <li><a href="https://gitter.im/quorrajs/quorrajs" target="_blank">Gitter</a></li>
                                <li><a href="https://twitter.com/quorrajs" target="_blank">Twitter</a></li>
                            </ul>
                        </li>
                    </ul>
                    <div class="switcher">
                        <div class="dropdown">
                            <button class="btn btn-info dropdown-toggle" type="button" aria-haspopup="true"
                                    data-toggle="dropdown">
                                1.0.0
                                <span class="caret"></span>
                            </button>
                            <ul class="dropdown-menu">
                                                                                                        <li>
                                        <a href="/docs/master/more/miscellaneous.html">Master</a>
                                    </li>
                                                                                                        <li>
                                        <a href="/docs/1.0.0/more/miscellaneous.html">1.0.0</a>
                                    </li>
                                                            </ul>
                        </div>
                    </div>
                    <button type="button" class="navbar-toggle collapsed">
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                </nav>
            </div>
        </header>
        <div id="content" role="main">
            <section class="section documentation swatch-white-blue">
                <div class="container">
                    <div class="row">
                                                    <div class="col-md-3 sidebar">
                                                                    <div class="sidebar-widget widget_categories">
                                        <h3 class="sidebar-header">Preface</h3>
                                        <ul>
                                                                                            <li class="">
                                                    <a href="/docs/1.0.0/preface/quickstart.html">
                                                        Quickstart
                                                    </a>
                                                </li>
                                                                                            <li class="">
                                                    <a href="/docs/1.0.0/preface/contribution-guide.html">
                                                        Contribution Guide
                                                    </a>
                                                </li>
                                                                                    </ul>
                                    </div>
                                                                    <div class="sidebar-widget widget_categories">
                                        <h3 class="sidebar-header">Getting started</h3>
                                        <ul>
                                                                                            <li class="">
                                                    <a href="/docs/1.0.0/getting-started/installation.html">
                                                        Installation
                                                    </a>
                                                </li>
                                                                                            <li class="">
                                                    <a href="/docs/1.0.0/getting-started/configuration.html">
                                                        Configuration
                                                    </a>
                                                </li>
                                                                                            <li class="">
                                                    <a href="/docs/1.0.0/getting-started/request-lifecycle.html">
                                                        Request Lifecycle
                                                    </a>
                                                </li>
                                                                                            <li class="">
                                                    <a href="/docs/1.0.0/getting-started/routing.html">
                                                        Routing
                                                    </a>
                                                </li>
                                                                                            <li class="">
                                                    <a href="/docs/1.0.0/getting-started/requests-&amp;-input.html">
                                                        Requests & Input
                                                    </a>
                                                </li>
                                                                                            <li class="">
                                                    <a href="/docs/1.0.0/getting-started/views-&amp;-responses.html">
                                                        Views & Responses
                                                    </a>
                                                </li>
                                                                                            <li class="">
                                                    <a href="/docs/1.0.0/getting-started/controllers.html">
                                                        Controllers
                                                    </a>
                                                </li>
                                                                                            <li class="">
                                                    <a href="/docs/1.0.0/getting-started/errors-&amp;-logging.html">
                                                        Errors & Logging
                                                    </a>
                                                </li>
                                                                                            <li class="">
                                                    <a href="/docs/1.0.0/getting-started/models-&amp;-orm.html">
                                                        Models & ORM
                                                    </a>
                                                </li>
                                                                                            <li class="">
                                                    <a href="/docs/1.0.0/getting-started/globals.html">
                                                        Globals
                                                    </a>
                                                </li>
                                                                                            <li class="">
                                                    <a href="/docs/1.0.0/getting-started/middleware.html">
                                                        Middleware
                                                    </a>
                                                </li>
                                                                                    </ul>
                                    </div>
                                                                    <div class="sidebar-widget widget_categories">
                                        <h3 class="sidebar-header">Learning more</h3>
                                        <ul>
                                                                                            <li class="">
                                                    <a href="/docs/1.0.0/more/security.html">
                                                        Security
                                                    </a>
                                                </li>
                                                                                            <li class="">
                                                    <a href="/docs/1.0.0/middlewares/session.html">
                                                        Session
                                                    </a>
                                                </li>
                                                                                            <li class="">
                                                    <a href="/docs/1.0.0/more/mail.html">
                                                        Mail
                                                    </a>
                                                </li>
                                                                                            <li class="">
                                                    <a href="/docs/1.0.0/more/request.html">
                                                        Request Object
                                                    </a>
                                                </li>
                                                                                            <li class="">
                                                    <a href="/docs/1.0.0/more/response.html">
                                                        Response Object
                                                    </a>
                                                </li>
                                                                                            <li class="">
                                                    <a href="/docs/1.0.0/more/service-providers.html">
                                                        Service Providers
                                                    </a>
                                                </li>
                                                                                            <li class="">
                                                    <a href="/docs/1.0.0/middlewares/body-parser.html">
                                                        Body Parser
                                                    </a>
                                                </li>
                                                                                            <li class="">
                                                    <a href="/docs/1.0.0/middlewares/query-parser.html">
                                                        Query Parser
                                                    </a>
                                                </li>
                                                                                            <li class="">
                                                    <a href="/docs/1.0.0/middlewares/cookie-parser.html">
                                                        Cookie Parser
                                                    </a>
                                                </li>
                                                                                            <li class="">
                                                    <a href="/docs/1.0.0/middlewares/authentication.html">
                                                        Authentication
                                                    </a>
                                                </li>
                                                                                            <li class="">
                                                    <a href="/docs/1.0.0/middlewares/localization.html">
                                                        Localization
                                                    </a>
                                                </li>
                                                                                            <li class="">
                                                    <a href="/docs/1.0.0/middlewares/http-method-override.html">
                                                        HTTP Method Override
                                                    </a>
                                                </li>
                                                                                            <li class="">
                                                    <a href="/docs/1.0.0/middlewares/serve-static.html">
                                                        Server Static
                                                    </a>
                                                </li>
                                                                                            <li class="">
                                                    <a href="/docs/1.0.0/more/elixir.html">
                                                        Elixir
                                                    </a>
                                                </li>
                                                                                            <li class="">
                                                    <a href="/docs/1.0.0/more/miscellaneous.html">
                                                        Miscellaneous
                                                    </a>
                                                </li>
                                                                                            <li class="">
                                                    <a href="/docs/1.0.0/more/testing.html">
                                                        Testing
                                                    </a>
                                                </li>
                                                                                    </ul>
                                    </div>
                                                                    <div class="sidebar-widget widget_categories">
                                        <h3 class="sidebar-header">Quorra CLI</h3>
                                        <ul>
                                                                                            <li class="">
                                                    <a href="/docs/1.0.0/quorra-cli/overview.html">
                                                        Overview
                                                    </a>
                                                </li>
                                                                                    </ul>
                                    </div>
                                                            </div>
                                                <div class="col-md-9">
                            <article class="post">
                                <section class="section swatch-white-blue">
                                    <div class="container">
                                        <div class="row">
                                            <div class="col-md-12 documentation">
                                                <h1 id="miscellaneous">Miscellaneous</h1>
<ul>
<li><a href="#csrf-protection">CSRF Protection</a></li>
<li><a href="#quorra-behind-proxies">Quorra Behind Proxies</a></li>
<li><a href="#application-locals">Application Locals</a></li>
</ul>
<h2 id="csrf-protection">CSRF Protection</h2>
<h3 id="adding-the-csrf-token-to-a-form">Adding The CSRF Token To A Form</h3>
<p>Quorra provides an easy method of protecting your application from cross-site request forgeries. First, a random token
is placed in your user's session. You can use following methods to access and regenerate tokens. Include the token in
your html form as a hidden field with <code>_token</code> as field name.</p>
<h3 id="access-csrf-token">Access CSRF token</h3>
<pre><code class="language-javascript">req.session.getToken()
// or
req.csrfToken()</code></pre>
<h3 id="regenerate-csrf-token">Regenerate CSRF token</h3>
<pre><code class="language-javascript">req.session.regenerateToken()</code></pre>
<h3 id="attaching-the-csrf-filter-to-a-route">Attaching The CSRF Filter To A Route</h3>
<pre><code class="language-javascript">Route.post('profile', {'before': 'csrf', 'uses': function() {
    //
});</code></pre>
<h2 id="quorra-behind-proxies">Quorra Behind Proxies</h2>
<p>When running an Quorra app behind a proxy, set the configuration value <code>trustProxy</code>(app/config/request.js) to one of the
values listed in the following table.</p>
<blockquote>
<p><strong>Note:</strong> Although the app will not fail to run if the configuration value <code>trustProxy</code> is not set, it will incorrectly
register the proxy’s IP address as the client IP address unless <code>trustProxy</code> is configured.</p>
</blockquote>
<table>
<thead>
<tr>
<th>Type</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Boolean</td>
<td>If true, the client’s IP address is understood as the left-most entry in the X-Forwarded-* header.If false, the app is understood as directly facing the Internet and the client’s IP address is derived from req.connection.remoteAddress. This is the default setting.</td>
</tr>
<tr>
<td>IP addresses</td>
<td>An IP address, subnet, or an array of IP addresses and subnets to trust. The following list shows the pre-configured subnet names: <ul><li>loopback - 127.0.0.1/8, ::1/128</li><li>linklocal - 169.254.0.0/16, fe80::/10</li><li>uniquelocal - 10.0.0.0/8, 172.16.0.0/12, 192.168.0.0/16, fc00::/7</li></li></ul>You can set IP addresses in any of the following ways: <pre><code>'trustProxy': 'loopback' // specify a single subnet<br>'trustProxy': 'loopback, 123.123.123.123' // specify a subnet and an address <br>'trustProxy': 'loopback, linklocal, uniquelocal' // specify multiple subnets as CSV<br>'trustProxy': ['loopback', 'linklocal', 'uniquelocal'] // specify multiple subnets as an array</code></pre>When specified, the IP addresses or the subnets are excluded from the address determination process, and the untrusted IP address nearest to the application server is determined as the client’s IP address.</td>
</tr>
<tr>
<td>Number</td>
<td>Trust the nth hop from the front-facing proxy server as the client.</td>
</tr>
<tr>
<td>Function</td>
<td>Custom trust implementation. Use this only if you know what you are doing. <pre><code>'trustProxy' :function (ip) {,if (ip === '127.0.0.1' || ip === '123.123.123.123') return true; // trusted IPs,else return false; });</code></pre></td>
</tr>
</tbody>
</table>
<p>Setting a non-false trust proxy value results in three important changes:</p>
<p>The value of req.hostname is derived from the value set in the X-Forwarded-Host header, which can be set by the client or by the proxy.</p>
<p><code>X-Forwarded-Proto</code> can be set by the reverse proxy to tell the app whether it is https or http or even an invalid
name. This value is reflected by req.protocol.</p>
<p>The req.ip and req.ips values are populated with the list of addresses from <code>X-Forwarded-For</code>.</p>
<p>The trust proxy setting is implemented using the <a href="https://www.npmjs.com/package/proxy-addr">proxy-addr</a> package. For more information, see its documentation.</p>
<h2 id="application-locals">Application Locals</h2>
<p>In Quorra local variables within the application can be saved to locals attribute of Quorra application instance, ie
<code>App.locals</code>.</p>
<pre><code class="language-javascript">App.locals.title
// =&gt; 'My App'

App.locals.email
// =&gt; 'me@myapp.com'

App.locals.strftime = require('strftime');</code></pre>
<p>Once set, the value of <code>App.locals</code> properties persist throughout the life of the application, in contrast with <code>res .locals</code> properties that are valid only for the lifetime of the <code>request</code>.</p>
<p>Both <code>app.locals</code> and <code>res.locals</code> properties are available in aplication view templates. This is useful for
providing helper functions to templates, as well as app-level data. Application locals are available in <code>middleware</code>
via <code>req.app.locals</code> (see <a href="/docs/1.0.0/more/request.html#reqapp">req.app</a>).</p>
                                            </div>
                                        </div>
                                    </div>
                                </section>
                            </article>
                        </div>
                    </div>
                </div>
            </section>
        </div>
        <footer id="footer" role="contentinfo">
            <section class="section swatch-blue-white no-padding">
                <div class="container">
                    <div class="row">
                        <div class="col-md-12 text-center">
                            <h3>Connect with us</h3>
                            <div id="swatch_social-2" class="sidebar-widget  widget_swatch_social no-margin">
                                <ul class="unstyled inline small-screen-center social-icons social-background social-small">
                                    <li>
                                        <a target="_blank" href="https://www.facebook.com/quorrajs">
                                            <i class="fa fa-facebook"></i>
                                        </a>
                                    </li>
                                    <li>
                                        <a target="_blank" href="https://twitter.com/quorrajs">
                                            <i class="fa fa-twitter"></i>
                                        </a>
                                    </li>
                                    <li>
                                        <a target="_blank" href="https://github.com/quorrajs">
                                            <i class="fa fa-github-square"></i>
                                        </a>
                                    </li>
                                </ul>
                            </div>
                            <div id="text-4" class="sidebar-widget widget_text bottom-margin-10">
                                <div class="textwidget">QuorraJS 2016 ALL RIGHTS RESERVED
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </footer>
        <a class="go-top hex-alt" href="javascript:void(0)">
            <i class="fa fa-angle-up"></i>
        </a>
    </div>
    <script src="/assets/js/packages.min.js"></script>
    <script src="/assets/js/theme.min.js"></script>
    <script src="/assets/js/prism.js"></script>
    <script src="/assets/js/algoliasearch.min.js"></script>
    <script src="/assets/js/typeahead.js"></script>
    <script src="/assets/js/Hogan.js"></script>
    <script src="/assets/js/quorra.js"></script>
</body>
</html>

