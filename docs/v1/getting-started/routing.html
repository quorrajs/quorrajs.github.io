<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>QuorraJS</title>
        <link rel="icon" type="image/x-icon" href="https://quorrajs.org/assets/icons/favicon.ico" />
        <link href='https://fonts.googleapis.com/css?family=Lato:100,300,400,700,900,400italic' rel='stylesheet' type='text/css'>
        <link rel="stylesheet" href="https://quorrajs.org/assets/css/bootstrap.min.css">
        <link rel="stylesheet" href="https://quorrajs.org/assets/css/theme.css">
        <link rel="stylesheet" href="https://quorrajs.org/assets/css/color-defaults.min.css">
        <link rel="stylesheet" href="https://quorrajs.org/assets/css/swatch-blue-white.css">
        <link rel="stylesheet" href="https://quorrajs.org/assets/css/swatch-white-blue.css">
        <link rel="stylesheet" href="https://quorrajs.org/assets/css/prism.css">
        <link rel="stylesheet" href="https://quorrajs.org/assets/css/fonts.min.css" media="screen">
        <script>
            (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
                    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
            })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

            ga('create', 'UA-42913540-2', 'auto');
            ga('send', 'pageview');
        </script>
    </head>
    <body>
        <header id="masthead" class="navbar-small navbar swatch-blue-white" role="banner">
            <div class="container">
                <div class="navbar-header">
                    <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target=".main-navbar">
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                    <a href="https://quorrajs.org/index.html" class="navbar-brand">
                        <img src="https://quorrajs.org/assets/images/logo.png" alt="QuorraJS">
                    </a>
                </div>
                <nav class="collapse navbar-collapse main-navbar" role="navigation">
                    <ul class="nav navbar-nav navbar-right">
                        <li><a data-scroll data-options="easing: easeOutQuart"
                               href="https://quorrajs.org/docs/v1/getting-started/installation.html">Documentation</a></li>
                        <li><a data-scroll data-options="easing: easeOutQuart"
                               href="https://medium.com/@quorrajs" target="_blank">Blog</a></li>
                        <li class="dropdown">
                            <a href="#" class="dropdown-toggle" data-toggle="dropdown">Community</a>
                            <ul class="dropdown-menu">
                                <li><a href="https://github.com/quorrajs" target="_blank">Github</a></li>
                                <li role="separator" class="divider"></li>
                                <li><a href="https://quorrajs.slack.com" target="_blank">Slack</a></li>
                                <li><a href="https://gitter.im/quorrajs/quorrajs" target="_blank">Gitter</a></li>
                                <li><a href="https://twitter.com/quorrajs" target="_blank">Twitter</a></li>
                            </ul>
                        </li>
                    </ul>
                </nav>
            </div>
        </header>
        <div id="content" role="main">
            <section class="section documentation swatch-white-blue">
                <div class="container">
                    <div class="row">
                                                    <div class="col-md-3 sidebar">
                                                                    <div class="sidebar-widget widget_categories">
                                        <h3 class="sidebar-header">Preface</h3>
                                        <ul>
                                                                                            <li class="">
                                                    <a href="/docs/v1/preface/quickstart.html">
                                                        Quickstart
                                                    </a>
                                                </li>
                                                                                            <li class="">
                                                    <a href="/docs/v1/preface/contribution-guide.html">
                                                        Contribution Guide
                                                    </a>
                                                </li>
                                                                                    </ul>
                                    </div>
                                                                    <div class="sidebar-widget widget_categories">
                                        <h3 class="sidebar-header">Getting started</h3>
                                        <ul>
                                                                                            <li class="">
                                                    <a href="/docs/v1/getting-started/installation.html">
                                                        Installation
                                                    </a>
                                                </li>
                                                                                            <li class="">
                                                    <a href="/docs/v1/getting-started/configuration.html">
                                                        Configuration
                                                    </a>
                                                </li>
                                                                                            <li class="">
                                                    <a href="/docs/v1/getting-started/request-lifecycle.html">
                                                        Request Lifecycle
                                                    </a>
                                                </li>
                                                                                            <li class="">
                                                    <a href="/docs/v1/getting-started/routing.html">
                                                        Routing
                                                    </a>
                                                </li>
                                                                                            <li class="">
                                                    <a href="/docs/v1/getting-started/requests-&amp;-input.html">
                                                        Requests & Input
                                                    </a>
                                                </li>
                                                                                            <li class="">
                                                    <a href="/docs/v1/getting-started/views-&amp;-responses.html">
                                                        Views & Responses
                                                    </a>
                                                </li>
                                                                                            <li class="">
                                                    <a href="/docs/v1/getting-started/controllers.html">
                                                        Controllers
                                                    </a>
                                                </li>
                                                                                            <li class="">
                                                    <a href="/docs/v1/getting-started/errors-&amp;-logging.html">
                                                        Errors & Logging
                                                    </a>
                                                </li>
                                                                                            <li class="">
                                                    <a href="/docs/v1/getting-started/models-&amp;-orm.html">
                                                        Models & ORM
                                                    </a>
                                                </li>
                                                                                            <li class="">
                                                    <a href="/docs/v1/getting-started/globals.html">
                                                        Globals
                                                    </a>
                                                </li>
                                                                                            <li class="">
                                                    <a href="/docs/v1/getting-started/middleware.html">
                                                        Middleware
                                                    </a>
                                                </li>
                                                                                    </ul>
                                    </div>
                                                                    <div class="sidebar-widget widget_categories">
                                        <h3 class="sidebar-header">Lerning more</h3>
                                        <ul>
                                                                                            <li class="">
                                                    <a href="/docs/v1/more/security.html">
                                                        Security
                                                    </a>
                                                </li>
                                                                                            <li class="">
                                                    <a href="/docs/v1/middlewares/session.html">
                                                        Session
                                                    </a>
                                                </li>
                                                                                            <li class="">
                                                    <a href="/docs/v1/more/mail.html">
                                                        Mail
                                                    </a>
                                                </li>
                                                                                            <li class="">
                                                    <a href="/docs/v1/more/request.html">
                                                        Request Object
                                                    </a>
                                                </li>
                                                                                            <li class="">
                                                    <a href="/docs/v1/more/response.html">
                                                        Response Object
                                                    </a>
                                                </li>
                                                                                            <li class="">
                                                    <a href="/docs/v1/more/service-providers.html">
                                                        Service Providers
                                                    </a>
                                                </li>
                                                                                            <li class="">
                                                    <a href="/docs/v1/middlewares/body-parser.html">
                                                        Body Parser
                                                    </a>
                                                </li>
                                                                                            <li class="">
                                                    <a href="/docs/v1/middlewares/query-parser.html">
                                                        Query Parser
                                                    </a>
                                                </li>
                                                                                            <li class="">
                                                    <a href="/docs/v1/middlewares/cookie-parser.html">
                                                        Cookie Parser
                                                    </a>
                                                </li>
                                                                                            <li class="">
                                                    <a href="/docs/v1/middlewares/authentication.html">
                                                        Authentication
                                                    </a>
                                                </li>
                                                                                            <li class="">
                                                    <a href="/docs/v1/middlewares/localization.html">
                                                        Localization
                                                    </a>
                                                </li>
                                                                                            <li class="">
                                                    <a href="/docs/v1/middlewares/http-method-override.html">
                                                        HTTP Method Override
                                                    </a>
                                                </li>
                                                                                            <li class="">
                                                    <a href="/docs/v1/middlewares/serve-static.html">
                                                        Server Static
                                                    </a>
                                                </li>
                                                                                            <li class="">
                                                    <a href="/docs/v1/more/elixir.html">
                                                        Elixir
                                                    </a>
                                                </li>
                                                                                            <li class="">
                                                    <a href="/docs/v1/more/miscellaneous.html">
                                                        Miscellaneous
                                                    </a>
                                                </li>
                                                                                            <li class="">
                                                    <a href="/docs/v1/more/testing.html">
                                                        Testing
                                                    </a>
                                                </li>
                                                                                    </ul>
                                    </div>
                                                                    <div class="sidebar-widget widget_categories">
                                        <h3 class="sidebar-header">Quorra CLI</h3>
                                        <ul>
                                                                                            <li class="">
                                                    <a href="/docs/v1/quorra-cli/overview.html">
                                                        Overview
                                                    </a>
                                                </li>
                                                                                    </ul>
                                    </div>
                                                            </div>
                                                <div class="col-md-9">
                            <article class="post">
                                <section class="section swatch-white-blue">
                                    <div class="container">
                                        <div class="row">
                                            <div class="col-md-12 documentation">
                                                <h1 id="routing">Routing</h1>
<ul>
<li><a href="#basic-routing">Basic Routing</a></li>
<li><a href="#route-parameters">Route Parameters</a></li>
<li><a href="#route-filters">Route Filters</a></li>
<li><a href="#named-routes">Named Routes</a></li>
<li><a href="#route-groups">Route Groups</a></li>
<li><a href="#sub-domain-routing">Sub-Domain Routing</a></li>
<li><a href="#route-prefixing">Route Prefixing</a></li>
<li><a href="#route-model-binding">Route Model Binding</a></li>
<li><a href="#throwing-404-errors">Throwing 404 Errors</a></li>
<li><a href="#routing-to-controllers">Routing To Controllers</a></li>
</ul>
<h2 id="basic-routing">Basic Routing</h2>
<p>Most of the routes for your application will be defined in the <code>app/routes.js</code> file. The simplest Quorra routes
consist of a URI and a Closure callback.</p>
<h3 id="accessing-application-router-instance">Accessing application router instance</h3>
<pre><code class="language-javascript">var Route = App.router;</code></pre>
<h3 id="basic-get-route">Basic GET Route</h3>
<pre><code class="language-javascript">Route.get('/', function(req, res)
{
    res.writeHead(200, {'Content-Type': 'text/plain'});
    res.end('Hello World');
});</code></pre>
<h3 id="basic-post-route">Basic POST Route</h3>
<pre><code class="language-javascript">Route.post('foo/bar', function(req, res)
{
    res.writeHead(200, {'Content-Type': 'text/plain'});
    res.end('Hello World');
});</code></pre>
<h3 id="registering-a-route-for-multiple-verbs">Registering A Route For Multiple Verbs</h3>
<pre><code class="language-javascript">Route.match(['GET', 'POST'], '/', function(req, res)
{
    res.writeHead(200, {'Content-Type': 'text/plain'});
    res.end('Hello World');
});</code></pre>
<h3 id="registering-a-route-responding-to-any-http-verb">Registering A Route Responding To Any HTTP Verb</h3>
<pre><code class="language-javascript">Route.any('foo', function(req, res)
{
    res.writeHead(200, {'Content-Type': 'text/plain'});
    res.end('Hello World');
});</code></pre>
<h3 id="forcing-a-route-to-be-served-over-https">Forcing A Route To Be Served Over HTTPS</h3>
<pre><code class="language-javascript">Route.get('foo', {'https': true, uses: function(req, res)
{
    res.writeHead(200, {'Content-Type': 'text/plain'});
    res.end('Must be over HTTPS');
}});</code></pre>
<p>Often, you will need to generate URLs to your routes, you may do so using the URL.to method:</p>
<pre><code class="language-javascript">var URL = App.url;
var url = URL.to('foo');</code></pre>
<h2 id="route-parameters">Route Parameters</h2>
<pre><code class="language-javascript">Route.get('user/{id}', function(req, res, id)
{
    res.writeHead(200, {'Content-Type': 'text/plain'});
    res.end('User '+id);
});</code></pre>
<h3 id="optional-route-parameters">Optional Route Parameters</h3>
<pre><code class="language-javascript">Route.get('user/{name?}', function(req, res, name)
{
    if(name === undefined) {
        name = 'no name';
    }

    res.writeHead(200, {'Content-Type': 'text/plain'});
    res.end(name);
});</code></pre>
<h3 id="regular-expression-route-constraints">Regular Expression Route Constraints</h3>
<pre><code class="language-javascript">Route.get('user/{name}', function(req, res, name)
{
    //
})
.where('name', '[A-Za-z]+');

Route.get('user/{id}', function(req, res, id)
{
    //
})
.where('id', '[0-9]+');</code></pre>
<h3 id="passing-an-object-of-wheres">Passing An Object Of Wheres</h3>
<p>Of course, you may pass an object of constraints when necessary:</p>
<pre><code class="language-javascript">Route.get('user/{id}/{name}', function(req, res, id, name)
{
    //
})
.where({'id': '[0-9]+', 'name': '[a-z]+'});</code></pre>
<h3 id="defining-global-patterns">Defining Global Patterns</h3>
<p>If you would like a route parameter to always be constrained by a given regular expression, you may use the pattern method:</p>
<pre><code class="language-javascript">Route.pattern('id', '[0-9]+');

Route.get('user/{id}', function(req, res, id)
{
    // Only called if {id} is numeric.
});</code></pre>
<h3 id="accessing-a-route-parameter-value">Accessing A Route Parameter Value</h3>
<p>If you need to access a route parameter value outside of a route, you may use the <code>req.routeParameter</code> method:</p>
<pre><code class="language-javascript">Route.filter('foo', function(req, res, next)
{
    if (req.routeParameter('id') == 1)
    {
        //
    }
});</code></pre>
<h2 id="route-filters">Route Filters</h2>
<p>Route filters provide a convenient way of limiting access to a given route, which is useful for creating areas of
your site which require authentication. You can register your application filters in the <code>app/filters.js</code> file.</p>
<p>Defining A Route Filter</p>
<pre><code class="language-javascript">var URL = App.url;

Route.filter('old', function(req, res, next)
{
    if (req.input.get('age') &lt; 200)
    {
        res.redirect(URL.to('home'));
    } else {
        next();
    }
});</code></pre>
<h3 id="attaching-a-filter-to-a-route">Attaching A Filter To A Route</h3>
<pre><code class="language-javascript">Route.get('user', {'before': 'old', uses: function(req, res)
{
    res.writeHead(200, {'Content-Type': 'text/plain'});
    res.end('You are over 200 years old!');
}});</code></pre>
<h3 id="attaching-a-filter-to-a-controller-action">Attaching A Filter To A Controller Action</h3>
<pre><code class="language-javascript">Route.get('user', {'before': 'old', 'uses': 'UserController@showProfile'});</code></pre>
<h3 id="attaching-multiple-filters-to-a-route">Attaching Multiple Filters To A Route</h3>
<pre><code class="language-javascript">Route.get('user', {'before': 'auth|old', uses: function(req, res)
{
    res.writeHead(200, {'Content-Type': 'text/plain'});
    res.end('You are authenticated and over 200 years old!');
}});</code></pre>
<h3 id="attaching-multiple-filters-via-array">Attaching Multiple Filters Via Array</h3>
<pre><code class="language-javascript">Route.get('user', {'before': ['auth', 'old'], uses: function(req, res)
{
     res.writeHead(200, {'Content-Type': 'text/plain'});
     res.end('You are authenticated and over 200 years old!');
}});</code></pre>
<h3 id="specifying-filter-parameters">Specifying Filter Parameters</h3>
<pre><code class="language-javascript">Route.filter('age', function(req, res, next, value)
{
    //
});

Route.get('user', {'before': 'age:200', uses: function(req, res)
{
    res.writeHead(200, {'Content-Type': 'text/plain'});
    res.end('Hello World');
}});</code></pre>
<h3 id="pattern-based-filters">Pattern Based Filters</h3>
<p>You may also specify that a filter applies to an entire set of routes based on their URI.</p>
<pre><code class="language-javascript">Route.filter('admin', function(req, res, next)
{
    //
});

Route.when('admin/*', 'admin');</code></pre>
<p>In the example above, the admin filter would be applied to all routes beginning with <code>admin/</code>. The asterisk is used as
a wildcard, and will match any combination of characters.</p>
<p>You may also constrain pattern filters by HTTP verbs:</p>
<pre><code class="language-javascript">Route.when('admin/*', 'admin', ['post']);</code></pre>
<h2 id="named-routes">Named Routes</h2>
<p>Named routes make referring to routes when generating redirects or URLs more convenient. You may specify a name for a route like so:</p>
<pre><code class="language-javascript">Route.get('user/profile', {'as': 'profile', uses: function(req, res)
{
    //
}});</code></pre>
<p>You may also specify route names for controller actions:</p>
<pre><code class="language-javascript">Route.get('user/profile', {'as': 'profile', 'uses': 'UserController@showProfile'});</code></pre>
<p>Now, you may use the route's name when generating URLs:</p>
<pre><code class="language-javascript">var URL = App.url;
var profileUrl = URL.route('profile');</code></pre>
<h2 id="route-groups">Route Groups</h2>
<p>Sometimes you may need to apply filters to a group of routes. Instead of specifying the filter on each route, you may use a route group:</p>
<pre><code class="language-javascript">Route.group({'before': 'auth'}, function()
{
    Route.get('/', function(req, res)
    {
        // Has Auth Filter
    });

    Route.get('user/profile', function(req, res)
    {
        // Has Auth Filter
    });
});</code></pre>
<p>You may also use the namespace parameter within your group array to specify all controllers within that group as being in a given namespace:</p>
<pre><code class="language-javascript">Route.group({'namespace': 'controllers/admin'}, function()
{
    //
});</code></pre>
<h2 id="sub-domain-routing">Sub-Domain Routing</h2>
<p>Quorra routes supports sub-domain routing. Quorra routes are also able to handle wildcard sub-domains, and will pass
your wildcard parameters from the domain:</p>
<h3 id="registering-sub-domain-routes">Registering Sub-Domain Routes</h3>
<pre><code class="language-javascript">Route.get('users', {domain: 'users.myapp.com', 'uses': function(req, res) {
    //
}});

Route.group({'domain': '{account}.myapp.com'}, function() {

    Route.get('user/{id}', function(req, res, account, id) {
        //
    });

});</code></pre>
<h2 id="route-prefixing">Route Prefixing</h2>
<p>A group of routes may be prefixed by using the prefix option in the attributes object of a group:</p>
<pre><code class="language-javascript">Route.group({'prefix': 'admin'}, function()
{

    Route.get('user', function()
    {
        //
    });

});</code></pre>
<h2 id="route-model-binding">Route Model Binding</h2>
<p>Model binding provides a convenient way to inject model instances into your routes. For example, instead of injecting
a user's ID, you can inject the entire User model instance that matches the given ID. First, use the <code>Route.model</code>
method to specify the model that should be used for a given parameter:</p>
<h3 id="binding-a-parameter-to-a-model">Binding A Parameter To A Model</h3>
<pre><code class="language-javascript">var Route = App.router;

Route.model('user', 'User');</code></pre>
<p>Next, define a route that contains a <code>{user}</code> parameter:</p>
<pre><code class="language-javascript">Route.get('profile/{user}', function(req, res, user)
{
    //
});</code></pre>
<p>Since we have bound the <code>{user}</code> parameter to the User model, a User instance will be injected into the route. So, for
example, a request to <code>profile/1</code> will inject the User instance which has an ID of 1.</p>
<blockquote>
<p><strong>Note:</strong> If a matching model instance is not found in the database, a 404 error will be thrown.</p>
</blockquote>
<p>If you wish to specify your own &quot;not found&quot; behavior, you may pass a callback as the third argument to the model method:</p>
<pre><code class="language-javascript">Route.model('user', 'User', function(req, res, next)
{
    throw new Error(404);
});</code></pre>
<p>Sometimes you may wish to use your own resolver for route parameters. Simply use the <code>Route::bind</code> method:</p>
<pre><code class="language-javascript">Route.bind('user', function(value, route, req, callback)
{
    User.findOne(value, function(err, model){
        callback(model);
    });
});</code></pre>
<h2 id="throwing-404-errors">Throwing 404 Errors</h2>
<p>There are two ways to manually trigger a 404 error from a route. First, you may use the App.abort method:</p>
<pre><code class="language-javascript">req.abort(404);</code></pre>
<p>Second, you may throw an instance of Error with status property equal to 404.</p>
<p>More information on handling 404 exceptions and using custom responses for these errors may be found in the errors section of the documentation.</p>
<h2 id="routing-to-controllers">Routing To Controllers</h2>
<p>Quorra allows you to not only route to Closures, but also to controller classes.</p>
<p>See the documentation on <a href="/docs/v1/getting-started/controllers.html">Controllers</a> for more details.</p>
                                            </div>
                                        </div>
                                    </div>
                                </section>
                            </article>
                        </div>
                    </div>
                </div>
            </section>
        </div>
        <footer id="footer" role="contentinfo">
            <section class="section swatch-blue-white no-padding">
                <div class="container">
                    <div class="row">
                        <div class="col-md-12 text-center">
                            <h3>Connect with us</h3>
                            <div id="swatch_social-2" class="sidebar-widget  widget_swatch_social no-margin">
                                <ul class="unstyled inline small-screen-center social-icons social-background social-small">
                                    <li>
                                        <a target="_blank" href="https://www.facebook.com/quorrajs">
                                            <i class="fa fa-facebook"></i>
                                        </a>
                                    </li>
                                    <li>
                                        <a target="_blank" href="https://twitter.com/quorrajs">
                                            <i class="fa fa-twitter"></i>
                                        </a>
                                    </li>
                                    <li>
                                        <a target="_blank" href="https://github.com/quorrajs">
                                            <i class="fa fa-github-square"></i>
                                        </a>
                                    </li>
                                </ul>
                            </div>
                            <div id="text-4" class="sidebar-widget widget_text bottom-margin-10">
                                <div class="textwidget">QuorraJS 2016 ALL RIGHTS RESERVED
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </footer>
        <a class="go-top hex-alt" href="javascript:void(0)">
            <i class="fa fa-angle-up"></i>
        </a>
        <script src="https://quorrajs.org/assets/js/packages.min.js"></script>
        <script src="https://quorrajs.org/assets/js/theme.min.js"></script>
        <script src="https://quorrajs.org/assets/js/prism.js"></script>
    </body>
</html>

