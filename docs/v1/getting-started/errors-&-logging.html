<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>QuorraJS</title>
        <link rel="icon" type="image/x-icon" href="../../assets/icons/favicon.ico" />
        <link href='http://fonts.googleapis.com/css?family=Lato:100,300,400,700,900,400italic' rel='stylesheet' type='text/css'>
        <link rel="stylesheet" href="../../assets/css/bootstrap.min.css">
        <link rel="stylesheet" href="../../assets/css/theme.css">
        <link rel="stylesheet" href="../../assets/css/color-defaults.min.css">
        <link rel="stylesheet" href="../../assets/css/swatch-blue-white.css">
        <link rel="stylesheet" href="../../assets/css/swatch-white-blue.css">
        <link rel="stylesheet" href="../../assets/css/prism.css">
        <link rel="stylesheet" href="../../assets/css/fonts.min.css" media="screen">
        <script>
            (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
                    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
            })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

            ga('create', 'UA-42913540-2', 'auto');
            ga('send', 'pageview');
        </script>
    </head>
    <body>
        <header id="masthead" class="navbar-small navbar swatch-blue-white" role="banner">
            <div class="container">
                <div class="navbar-header">
                    <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target=".main-navbar">
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                    <a href="../../index.html" class="navbar-brand">
                        <img src="../../assets/images/logo.png" alt="QuorraJS">
                    </a>
                </div>
                <nav class="collapse navbar-collapse main-navbar" role="navigation">
                    <ul class="nav navbar-nav navbar-right">
                        <li><a data-scroll data-options="easing: easeOutQuart"
                               href="../../docs/v1/getting-started/installation.html">Documentation</a></li>
                        <li><a data-scroll data-options="easing: easeOutQuart"
                               href="https://medium.com/@quorrajs" target="_blank">Blog</a></li>
                        <li class="dropdown">
                            <a href="#" class="dropdown-toggle" data-toggle="dropdown">Community</a>
                            <ul class="dropdown-menu">
                                <li><a href="https://github.com/quorrajs" target="_blank">Github</a></li>
                                <li role="separator" class="divider"></li>
                                <li><a href="https://quorrajs.slack.com" target="_blank">Slack</a></li>
                                <li><a href="https://gitter.im/quorrajs/quorrajs" target="_blank">Gitter</a></li>
                                <li><a href="https://twitter.com/quorrajs" target="_blank">Twitter</a></li>
                            </ul>
                        </li>
                    </ul>
                </nav>
            </div>
        </header>
        <div id="content" role="main">
            <section class="section documentation swatch-white-blue">
                <div class="container">
                    <div class="row">
                                                    <div class="col-md-3 sidebar">
                                                                    <div class="sidebar-widget widget_categories">
                                        <h3 class="sidebar-header">Preface</h3>
                                        <ul>
                                                                                            <li class="">
                                                    <a href="/docs/v1/preface/quickstart.html">
                                                        Quickstart
                                                    </a>
                                                </li>
                                                                                            <li class="">
                                                    <a href="/docs/v1/preface/contribution-guide.html">
                                                        Contribution Guide
                                                    </a>
                                                </li>
                                                                                    </ul>
                                    </div>
                                                                    <div class="sidebar-widget widget_categories">
                                        <h3 class="sidebar-header">Getting started</h3>
                                        <ul>
                                                                                            <li class="">
                                                    <a href="/docs/v1/getting-started/installation.html">
                                                        Installation
                                                    </a>
                                                </li>
                                                                                            <li class="">
                                                    <a href="/docs/v1/getting-started/configuration.html">
                                                        Configuration
                                                    </a>
                                                </li>
                                                                                            <li class="">
                                                    <a href="/docs/v1/getting-started/request-lifecycle.html">
                                                        Request Lifecycle
                                                    </a>
                                                </li>
                                                                                            <li class="">
                                                    <a href="/docs/v1/getting-started/routing.html">
                                                        Routing
                                                    </a>
                                                </li>
                                                                                            <li class="">
                                                    <a href="/docs/v1/getting-started/requests-&amp;-input.html">
                                                        Requests & Input
                                                    </a>
                                                </li>
                                                                                            <li class="">
                                                    <a href="/docs/v1/getting-started/views-&amp;-responses.html">
                                                        Views & Responses
                                                    </a>
                                                </li>
                                                                                            <li class="">
                                                    <a href="/docs/v1/getting-started/controllers.html">
                                                        Controllers
                                                    </a>
                                                </li>
                                                                                            <li class="">
                                                    <a href="/docs/v1/getting-started/errors-&amp;-logging.html">
                                                        Errors & Logging
                                                    </a>
                                                </li>
                                                                                            <li class="">
                                                    <a href="/docs/v1/getting-started/models-&amp;-orm.html">
                                                        Models & ORM
                                                    </a>
                                                </li>
                                                                                            <li class="">
                                                    <a href="/docs/v1/getting-started/globals.html">
                                                        Globals
                                                    </a>
                                                </li>
                                                                                            <li class="">
                                                    <a href="/docs/v1/getting-started/middleware.html">
                                                        Middleware
                                                    </a>
                                                </li>
                                                                                    </ul>
                                    </div>
                                                                    <div class="sidebar-widget widget_categories">
                                        <h3 class="sidebar-header">Lerning more</h3>
                                        <ul>
                                                                                            <li class="">
                                                    <a href="/docs/v1/more/security.html">
                                                        Security
                                                    </a>
                                                </li>
                                                                                            <li class="">
                                                    <a href="/docs/v1/middlewares/session.html">
                                                        Session
                                                    </a>
                                                </li>
                                                                                            <li class="">
                                                    <a href="/docs/v1/more/mail.html">
                                                        Mail
                                                    </a>
                                                </li>
                                                                                            <li class="">
                                                    <a href="/docs/v1/more/request.html">
                                                        Request Object
                                                    </a>
                                                </li>
                                                                                            <li class="">
                                                    <a href="/docs/v1/more/response.html">
                                                        Response Object
                                                    </a>
                                                </li>
                                                                                            <li class="">
                                                    <a href="/docs/v1/more/service-providers.html">
                                                        Service Providers
                                                    </a>
                                                </li>
                                                                                            <li class="">
                                                    <a href="/docs/v1/middlewares/body-parser.html">
                                                        Body Parser
                                                    </a>
                                                </li>
                                                                                            <li class="">
                                                    <a href="/docs/v1/middlewares/query-parser.html">
                                                        Query Parser
                                                    </a>
                                                </li>
                                                                                            <li class="">
                                                    <a href="/docs/v1/middlewares/cookie-parser.html">
                                                        Cookie Parser
                                                    </a>
                                                </li>
                                                                                            <li class="">
                                                    <a href="/docs/v1/middlewares/authentication.html">
                                                        Authentication
                                                    </a>
                                                </li>
                                                                                            <li class="">
                                                    <a href="/docs/v1/middlewares/localization.html">
                                                        Localization
                                                    </a>
                                                </li>
                                                                                            <li class="">
                                                    <a href="/docs/v1/middlewares/http-method-override.html">
                                                        HTTP Method Override
                                                    </a>
                                                </li>
                                                                                            <li class="">
                                                    <a href="/docs/v1/middlewares/serve-static.html">
                                                        Server Static
                                                    </a>
                                                </li>
                                                                                            <li class="">
                                                    <a href="/docs/v1/more/elixir.html">
                                                        Elixir
                                                    </a>
                                                </li>
                                                                                            <li class="">
                                                    <a href="/docs/v1/more/miscellaneous.html">
                                                        Miscellaneous
                                                    </a>
                                                </li>
                                                                                            <li class="">
                                                    <a href="/docs/v1/more/testing.html">
                                                        Testing
                                                    </a>
                                                </li>
                                                                                    </ul>
                                    </div>
                                                                    <div class="sidebar-widget widget_categories">
                                        <h3 class="sidebar-header">Quorra CLI</h3>
                                        <ul>
                                                                                            <li class="">
                                                    <a href="/docs/v1/quorra-cli/overview.html">
                                                        Overview
                                                    </a>
                                                </li>
                                                                                    </ul>
                                    </div>
                                                            </div>
                                                <div class="col-md-9">
                            <article class="post">
                                <section class="section swatch-white-blue">
                                    <div class="container">
                                        <div class="row">
                                            <div class="col-md-12 documentation">
                                                <h1 id="errors-amp-logging">Errors &amp; Logging</h1>
<ul>
<li><a href="#configuration">Configuration</a></li>
<li><a href="#handling-errors">Handling Errors</a></li>
<li><a href="#handling-404-errors">Handling 404 Errors</a></li>
<li><a href="#logging">Logging</a></li>
</ul>
<h2 id="configuration">Configuration</h2>
<p>The logging handler for your application is registered in the <code>app/start/global.js</code> start file. By default, the logger
is configured to use a single log file; however, you may customize this behavior as needed. Since Quorra uses the
popular <a href="https://github.com/winstonjs/winston">Winston</a> logging library, you can take advantage of the variety of
handlers that Winston offers.</p>
<p>Quorra provides some additional utility methods over winston logger so that you can easily configure log handler in
your application.</p>
<ul>
<li>useFiles(FileTransportOptions)</li>
<li>useDailyFiles(DailyRotateFileTransportOptions)</li>
<li>useMongoDB(MongodbTransportOptions)</li>
<li>useMail(MailTransportOptions)</li>
<li>useConsole(ConsoleTransportOptions)</li>
</ul>
<p>For example, if you wish to use daily log files instead of a single, large file, you can make the following change to
your start file:</p>
<pre><code class="language-javascript">var Log = App.log;
Log.useDailyFiles({filename: path.join(App.path.storage, 'logs/quorra.log'), level: 'silly'});</code></pre>
<p>Or you can manually add transport mechanism provided by winston library just like following.</p>
<pre><code class="language-javascript">var Log = App.log;
var winston = require('winston'); // For this to work you have to install winston with command `npm install winston`
Log.add(winston.transports.File, {filename: path.join(App.path.storage, 'logs/quorra.log'), level: 'silly'});</code></pre>
<h3 id="error-detail">Error Detail</h3>
<p>By default, error detail is enabled for your application. This means that when an error occurs you will be shown an
error page with a detailed stack trace and error message. You may turn off error details by setting the debug option
in your app/config/app.js file to false.</p>
<blockquote>
<p><strong>Note:</strong> It is strongly recommended that you turn off error detail in a production environment.</p>
</blockquote>
<h2 id="handling-errors">Handling Errors</h2>
<p>By default, the app/start/global.js file contains an error handler for all exceptions:</p>
<pre><code class="language-javascript">App.error(function(error, code, request, response, next)
{
    var extra = {};

    if(error.stack) {
        extra.stackTrace = error.stack;
    }

    Log.error(error.message || error, extra);
    next();
});</code></pre>
<p>This is the most basic error handler. However, you may specify more handlers if needed.</p>
<p>If an exception handler returns a response, that response will be sent to the browser. A handler can stop the
execution of the other registered handlers by choose to not call the next callback.</p>
<h3 id="where-to-place-error-handlers">Where To Place Error Handlers</h3>
<p>There is no default &quot;home&quot; for error handler registrations. Quorra offers you freedom in this area. One option is to
define the handlers in your start/global.js file. In general, this is a convenient location to place any
&quot;bootstrapping&quot; code. If that file is getting crowded, you could create an <code>app/errors.js</code> file, and require that file
from your start/global.js script.</p>
<h2 id="http-exceptions">HTTP Exceptions</h2>
<p>Some exceptions describe HTTP error codes from the server. For example, this may be a &quot;page not found&quot; error (404),
an &quot;unauthorized error&quot; (401) or even a developer generated 500 error. In order to return such a response, use the
following:</p>
<pre><code class="language-javascript">res.abort(404);</code></pre>
<p>Optionally, you may provide a response:</p>
<pre><code class="language-javascript">res.abort(403, 'Unauthorized action.');</code></pre>
<p>This method may be used at any time during the request's lifecycle.</p>
<h2 id="handling-404-errors">Handling 404 Errors</h2>
<p>You may register an error handler that handles all &quot;404 Not Found&quot; errors in your application, allowing you to easily
return custom 404 error pages:</p>
<pre><code class="language-javascript">App.missing(function(error, req, res, next)
{
    res.status(400).view('errors.missing');
});</code></pre>
<h2 id="logging">Logging</h2>
<p>The Quorra logging facilities provide an instance of powerful winston library with some additional methods. By
default,  Quorra is configured to create a single log file for your application, and this file is stored in
app/storage/logs/quorra.log.
You may write information to the log like so:</p>
<pre><code class="language-javascript">var Log = App.log;

Log.info('This is some useful information.');

Log.warning('Something could be going wrong.');

Log.error('Something is really going wrong.');</code></pre>
<p>The logger provides the six logging levels: silly, debug, verbose, info, warn and error.</p>
<p>A JSON object of contextual data may also be passed to the log methods:</p>
<pre><code class="language-javascript">Log.info('Log message', {'context': 'Other helpful information'});</code></pre>
<p>Winston has a variety of additional handlers you may use for logging.</p>
                                            </div>
                                        </div>
                                    </div>
                                </section>
                            </article>
                        </div>
                    </div>
                </div>
            </section>
        </div>
        <footer id="footer" role="contentinfo">
            <section class="section swatch-blue-white no-padding">
                <div class="container">
                    <div class="row">
                        <div class="col-md-12 text-center">
                            <h3>Connect with us</h3>
                            <div id="swatch_social-2" class="sidebar-widget  widget_swatch_social no-margin">
                                <ul class="unstyled inline small-screen-center social-icons social-background social-small">
                                    <li>
                                        <a target="_blank" href="https://www.facebook.com/quorrajs">
                                            <i class="fa fa-facebook"></i>
                                        </a>
                                    </li>
                                    <li>
                                        <a target="_blank" href="https://twitter.com/quorrajs">
                                            <i class="fa fa-twitter"></i>
                                        </a>
                                    </li>
                                    <li>
                                        <a target="_blank" href="https://github.com/quorrajs">
                                            <i class="fa fa-github-square"></i>
                                        </a>
                                    </li>
                                </ul>
                            </div>
                            <div id="text-4" class="sidebar-widget widget_text bottom-margin-10">
                                <div class="textwidget">QuorraJS 2016 ALL RIGHTS RESERVED
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </footer>
        <a class="go-top hex-alt" href="javascript:void(0)">
            <i class="fa fa-angle-up"></i>
        </a>
        <script src="../../assets/js/packages.min.js"></script>
        <script src="../../assets/js/theme.min.js"></script>
        <script src="../../assets/js/prism.js"></script>
    </body>
</html>

